<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>表单</title>
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<!-- CSS 文件：基础样式、字体和布局 -->
	<link rel="stylesheet" href="../dist/css/modules/base.css">
	<link rel="stylesheet" href="../dist/css/modules/layout.css">
	<link rel="stylesheet" type="text/css" href="../dist/css/modules/button.css">
	<!-- <link rel="stylesheet" href="./layui/css/layui.css"  media="all"> -->
	<link rel="stylesheet" type="text/css" href="../dist/css/modules/font-layui.css	">
	<link rel="stylesheet" type="text/css" href="../dist/css/modules/form.css">
	<!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>


<body class="body-container">
	<!-- 使用 layui 栅格系统布局，容器为 100% 宽度 -->
	<div class="layui-container-field">
		<div class="layui-row">
			<!-- 具体列宽由输入框数量和按钮数量自行决定 -->
			<form class="layui-form" lay-filter="layui-form" action="" style="margin-top: 30px;">
				<div class="layui-form-item layui-form-item2">
					<div class="layui-inline">
						<label class="layui-form-label">验证手机</label>
						<div class="layui-input-inline">
							<input type="text" lay-verify="required|number|phone" name="number" autocomplete="off" class="layui-input">
						</div>
					</div>
				</div>
				<div class="layui-form-item layui-form-item2">
					<label class="layui-form-label">验证邮箱</label>
					<div class="layui-input-block">
						<input type="text"  lay-verify="required|email" lay-filter="title" name="title" autocomplete="off" placeholder="请输入标题" class="layui-input">
					</div>
				</div>

				<div class="layui-form-item">
					<label class="layui-form-label">验证必填项</label>
					<div class="layui-input-block">
						<input type="text" name="username" placeholder="请输入" autocomplete="off" class="layui-input">
					</div>
				</div>

				<div class="layui-form-item">
					<div class="layui-inline">
						<label class="layui-form-label label-required">必填</label>
						<div class="layui-input-inline">
							<input type="tel" name="phone" autocomplete="off" class="layui-input">
						</div>
					</div>
					<div class="layui-inline">
						<label class="layui-form-label">验证邮箱</label>
						<div class="layui-input-inline">
							<input type="text" name="email" autocomplete="off" class="layui-input">
						</div>
					</div>
				</div>

				<div class="layui-form-item">
					<div class="layui-inline">
						<label class="layui-form-label label-required">密码</label>
						<div class="layui-input-inline">
							<input type="password" name="number" autocomplete="off" class="layui-input" lay-verify="password">
						</div>
					</div>
				</div>

				<div class="layui-form-item">
					<label class="layui-form-label">验证身份证</label>
					<div class="layui-input-block">
						<input type="text" name="identity" placeholder="" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">自定义验证</label>
					<div class="layui-input-inline">
						<input type="password" name="password" placeholder="请输入密码" autocomplete="off" class="layui-input">
					</div>
					<div class="layui-form-mid layui-word-aux">请填写6到12位密码</div>
				</div>

				<div class="layui-form-item">
					<label class="layui-form-label">自定义验证</label>
					<div class="layui-input-inline">
						<input type="password" name="password" placeholder="请输入密码" autocomplete="off" class="layui-input">
					</div>
					<div style="clear: both"></div>
					<div class="layui-form-mid2 layui-word-aux">请填写6到12位密码</div>
				</div>


				<div class="layui-form-item">
					<div class="layui-inline">
						<label class="layui-form-label">范围</label>
						<div class="layui-input-inline" style="width: 100px;">
							<input type="text" name="price_min" placeholder="￥" autocomplete="off" class="layui-input">
						</div>
						<div class="layui-form-mid">-</div>
						<div class="layui-input-inline" style="width: 100px;">
							<input type="text" name="price_max" placeholder="￥" autocomplete="off" class="layui-input">
						</div>
					</div>
				</div>

				<div class="layui-form-item">
					<label class="layui-form-label">下拉树</label>
					<div class="layui-input-inline">
						<div class="layui-unselect layui-form-select downpanel">
							<div class="layui-select-title">
								<span class="layui-input layui-unselect" name="treeclass" id="treeclass">选择栏目</span>
								<input type="hidden" name="selectID" value="0">
								<i class="layui-edge"></i>
							</div>
							<dl class="layui-anim layui-anim-upbit layui-select-tree">
								<dd>
									<ul id="classtree"></ul>
								</dd>
							</dl>
						</div>
					</div>
				</div>

				<div class="layui-form-item">
					<label class="layui-form-label">单行选择框</label>
					<div class="layui-input-block">
						<select name="interest" lay-filter="interest">
							<option value=""></option>
							<option value="0">写作</option>
							<option value="1" selected="">阅读</option>
							<option value="2">游戏</option>
							<option value="3">音乐</option>
							<option value="4">旅行</option>
						</select>
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">下拉多选</label>
					<div class="layui-input-block">
						<select name="interest2" lay-filter="interest2" multiple="" lay-omit="">
							<option value=""></option>
							<option value="0">写作</option>
							<option value="1">阅读</option>
							<option value="2">游戏</option>
							<option value="3">音乐</option>
							<option value="4">旅行</option>
						</select>
					</div>
				</div>


				<div class="layui-form-item">
					<div class="layui-inline">
						<label class="layui-form-label">分组选择框</label>
						<div class="layui-input-inline">
							<select name="quiz">
								<option value="">请选择问题</option>
								<optgroup label="城市记忆">
									<optgroup label="城市记忆">
										<option value="你工作的第一个城市">你工作的第一个城市</option>
									</optgroup>
									<optgroup label="学生时代">
										<option value="你的工号">你的工号</option>
										<option value="你最喜欢的老师">你最喜欢的老师</option>
									</optgroup>
								</optgroup>
							</select>
						</div>
					</div>
					<div class="layui-inline">
						<label class="layui-form-label">搜索选择框</label>
						<div class="layui-input-inline">
							<select name="modules" lay-verify="required" lay-search="">
								<option value="">直接选择或搜索选择</option>
								<option value="1">layer</option>
								<option value="2">form</option>
								<option value="3">layim</option>
								<option value="4">element</option>
								<option value="5">laytpl</option>
								<option value="6">upload</option>
								<option value="7">laydate</option>
								<option value="8">laypage</option>
								<option value="9">flow</option>
								<option value="10">util</option>
								<option value="11">code</option>
								<option value="12">tree</option>
								<option value="13">layedit</option>
								<option value="14">nav</option>
								<option value="15">tab</option>
								<option value="16">table</option>
								<option value="17">select</option>
								<option value="18">checkbox</option>
								<option value="19">switch</option>
								<option value="20">radio</option>
							</select>
						</div>
					</div>
				</div>

				<div class="layui-form-item">
					<label class="layui-form-label">联动选择框</label>
					<div class="layui-input-inline">
						<select name="quiz1" id="s_province" lay-filter="s_province">
							<option value="">请选择省</option>
						</select>
					</div>
					<div class="layui-input-inline">
						<select name="quiz2" id="s_city" lay-filter="s_city">
							<option value="">请选择市</option>
						</select>
					</div>
					<div class="layui-input-inline">
						<select name="quiz3" id="s_county" lay-filter="s_county">
							<option value="">请选择县/区</option>
						</select>
					</div>
					<div class="layui-form-mid layui-word-aux">此处只是演示联动排版，并未做联动交互</div>
				</div>

				<div class="layui-form-item">
					<label class="layui-form-label">复选框</label>
					<div class="layui-input-block">
						<input type="checkbox" name="like[write]" title="写作" value="1" lay-filter="checkbox">
						<input type="checkbox" name="like[read]" title="阅读" value="2" checked="" lay-filter="checkbox">
						<input type="checkbox" name="like[game]" title="游戏" value="3" lay-filter="checkbox">
					</div>
				</div>

				<div class="layui-form-item" pane="">
					<label class="layui-form-label">原始复选框</label>
					<div class="layui-input-block">
						<input type="checkbox" name="like1[write]" lay-skin="primary" title="写作" checked="">
						<input type="checkbox" name="like1[read]" lay-skin="primary" title="阅读">
						<input type="checkbox" name="like1[game]" lay-skin="primary" title="游戏" disabled="">
					</div>
				</div>

				<div class="layui-form-item">
					<label class="layui-form-label">开关-默认关</label>
					<div class="layui-input-block">
						<input type="checkbox" name="close" lay-skin="switch" lay-filter="switch1" lay-text="ON|OFF">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label layui-form-label2">开关-默认开</label>
					<div class="layui-input-block switch-lg">
						<input type="checkbox" checked="" name="open" lay-skin="switch" lay-filter="switchTest" lay-text="ON|OFF">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">单选框</label>
					<div class="layui-input-block">
						<input type="radio" name="sex" value="男" title="男" checked="" lay-filter="sex">
						<input type="radio" name="sex" value="女" title="女" lay-filter="sex">
						<input type="radio" name="sex" value="禁" title="禁用" disabled="" lay-filter="sex">
					</div>
				</div>
				<div class="layui-form-item layui-form-text">
					<label class="layui-form-label">普通文本域</label>
					<div class="layui-input-block">
						<textarea placeholder="请输入内容" class="layui-textarea"></textarea>
					</div>
				</div>
				<button class="layui-btn layui-btn-normal" lay-filter="demo1" lay-submit="">搜索</button>
			</form>
		</div>
	</div>

	<!-- 示例-970 -->
	<ins class="adsbygoogle" style="display:inline-block;width:970px;height:90px" data-ad-client="ca-pub-6111334333458862" data-ad-slot="3820120620"></ins>

	<script src="../dist/layui.js" charset="utf-8"></script>
	<script src="../dist/plugins/city/area.js"></script>
	<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
	<script>
		_init_area();
		layui.use(['element', 'tree', 'layer', 'form'], function () {
			var form = layui.form,
				layer = layui.layer,
				$ = layui.jquery,
				tree = layui.tree;

			//渲染form
			form.render();
			//表单初始赋值
			form.val("layui-form", {
				title: "我是输入内容", // "name": "value"
				sex: "男",
				interest: 3,
			});
			//select获取值
			form.on('select(interest)', function (data) {
				layer.msg(data.value);
			});

			//radio获取植
			form.on('radio(sex)', function (data) {
				layer.msg(data.value);
			});
			//开关获取植
			form.on('switch(switchTest)', function (data) {
				var alert_value = this.checked ? '1' : '0';
				layer.msg(alert_value);//获取1/0
				console.log(data.othis.text());//获取ON/OFF
			});

			//checkbox选中触发事件
			form.on('checkbox(checkbox)', function (data) {
				console.log(data.value); //复选框value值，也可以通过data.elem.value得到
			});

			form.on('select(interest2)', function (data) {
				console.log(data.value);
			});

			//下拉树
			tree({
				elem: "#classtree",
				nodes: [{
					name: '常用文件夹',
					id: 1,
					alias: 'changyong',
					children: [{ name: '所有未读', id: 11, href: 'http://www.layui.com/', alias: 'weidu' }, {
						name: '置顶邮件',
						id: 12
					}, { name: '标签邮件', id: 13 }]
				}, {
					name: '我的邮箱',
					id: 2,
					spread: true,
					children: [{
						name: 'QQ邮箱',
						id: 21,
						spread: true,
						children: [{
							name: '收件箱',
							id: 211,
							children: [{ name: '所有未读', id: 2111 }, { name: '置顶邮件', id: 2112 }, { name: '标签邮件', id: 2113 }]
						}, { name: '已发出的邮件', id: 212 }, { name: '垃圾邮件', id: 213 }]
					}, {
						name: '阿里云邮',
						id: 22,
						children: [{ name: '收件箱', id: 221 }, { name: '已发出的邮件', id: 222 }, { name: '垃圾邮件', id: 223 }]
					}]
				}]
				,
				click: function (node) {
					var $select = $($(this)[0].elem).parents(".layui-form-select");
					$select.removeClass("layui-form-selected").find(".layui-select-title input[name='selectTree']").val(node.name).end().find("input:hidden[name='selectID']").val(node.id);
				}
			});
			$(document).bind("click", function () {
				$(".layui-form-select").not($(this).parents(".layui-form-select")).removeClass("layui-form-selected");
			});
			$(".downpanel").on("click", ".layui-select-title", function (e) {
				$(".layui-form-select").not($(this).parents(".layui-form-select")).removeClass("layui-form-selected");
				$(this).parents(".downpanel").toggleClass("layui-form-selected");
				layui.stope(e);
			}).on("click", "dl *", function (e) {
				e.stopPropagation();
			})
				.on("click", "dl i", function (e) {
					layui.stope(e);
				});

			//验证
			form.verify({
				title: function (value) {
					if (value.length < 5) {
						return '标题至少得5个字符啊';
					}
				}, fname: function (value) {
					if (value.length < 4) {
						return '请输入至少4位的用户名';
					}
				}, contact: function (value) {
					if (value.length < 4) {
						return '内容请输入至少4个字符';
					}
				}
				, phone: [/^1[3|4|5|7|8]\d{9}$/, '手机必须11位数字！']
				, email: [/^[a-z0-9._%-]+@([a-z0-9-]+\.)+[a-z]{2,4}$|^1[3|4|5|7|8]\d{9}$/, '邮箱格式不对']
				, password: function (value) {
					var lv = 1;
					if (value.match(/^[0-9]*$/g)) { lv=1; }
					else if (value.match(/^[0-9a-z]+$/g)) { lv=2; }
					else if (value.match(/^[A-Za-z0-9]+$/g)) { lv=3; }
					if (value.length < 6) { lv = 0; }
					if (lv == 0) {
						return '请输入至少6位的密码';
					}
					else {
						return lv;
					}
				}
			});

			//密码强度验证
			$("input[type='password']").keyup(function () {
				var val = $(this).val();
				if ($(this).attr("lay-verify") == "") {
					return;
				}
				var names = $(this).attr("lay-verify").split('|');
				for (var name of names) {
					var verify = form.config.verify; var tips = '';
					var isFn = typeof verify[name] === 'function';
					if (verify[name] && (isFn ? tips = verify[name](val) : (typeof (val) == "string" ? !verify[name][0].test(val) : (val == null ? true : !verify[name][0].test(val[0]))))) {
						var className = "";
						var text=(tips || verify[name][1]);
						if ((tips || verify[name][1]) == 1) {
							className = "";
							text="密码强度:弱";
						}
						else if ((tips || verify[name][1]) == 2) {
							className = "layui-form-warning";
							text="密码强度:中";
						}
						else if ((tips || verify[name][1]) == 3) {
							className = "layui-form-success";
							text="密码强度:强";
						}
						if ($(this).parent().parent().find(".layui-form-error").length != 0) {
							$(this).parent().parent().find(".layui-form-error").attr("class", "layui-form-mid2 layui-word-aux layui-form-error " + className);
							$(this).parent().parent().find(".layui-form-error").text(text);
						}
						else {
							$(this).parent().parent().append('<div class="clearboth"></div>');
							$(this).parent().parent().append('<div class="layui-form-mid2 layui-word-aux layui-form-error"+' + className + '>' + text + '</div>');
						}
						return;
					}
					else {
						$(this).parents().find(".clearboth").remove();
						$(this).parents().find(".layui-form-error").remove();
					}

				}
			})

			//失焦验证，在form.verify后
			$("input[lay-verify]").blur(function () {
				var val = $(this).val();
				if ($(this).attr("lay-verify") == "") {
					return;
				}
				var names = $(this).attr("lay-verify").split('|');
				for (var name of names) {
					var verify = form.config.verify; var tips = '';
					var isFn = typeof verify[name] === 'function';
					if (verify[name] && (isFn ? tips = verify[name](val) : (typeof (val) == "string" ? !verify[name][0].test(val) : (val == null ? true : !verify[name][0].test(val[0]))))) {
						var className = "";
						var text=(tips || verify[name][1]);
						if ((tips || verify[name][1]) == 1) {
							className = "";
							text="密码强度:弱";
						}
						else if ((tips || verify[name][1]) == 2) {
							className = "layui-form-warning";
							text="密码强度:中";
						}
						else if ((tips || verify[name][1]) == 3) {
							className = "layui-form-success";
							text="密码强度:强";
						}
						if ($(this).parent().parent().find(".layui-form-error").length != 0) {
							$(this).parent().parent().find(".layui-form-error").text(text);
						}
						else {
							$(this).parent().parent().append('<div class="clearboth"></div>');
							$(this).parent().parent().append('<div class="layui-form-mid2 layui-word-aux layui-form-error">' + text + '</div>');
						}
						return;
					}
					else {
						$(this).parents().find(".clearboth").remove();
						$(this).parents().find(".layui-form-error").remove();
					}

				}
			});

			form.on('submit(demo1)', function (data) {
				layer.alert(JSON.stringify(data.field), {
					title: '最终的提交信息'
				})
				return false;
			});
		});
	</script>
</body>

</html>